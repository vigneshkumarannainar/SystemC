#ifndef GATE_H
#define GATE_H

#include <systemc.h>

SC_MODULE(gate)
{
    // Inputs and Outputs for the gates
    sc_in<bool> A;
    sc_in<bool> B;
    sc_out<bool> F; // Output of the AND gate, input to the OR gate
    sc_out<bool> C; // Output of the OR gate, input to the AND gate

    // Internal signals for intermediate results
    sc_signal<bool> and_result;
    sc_signal<bool> or_result;

    // Constructor
    SC_CTOR(gate) : A("A"), B("B"), F("F"), C("C")
    {
        // Define AND gate behavior
        SC_METHOD(do_and);
        sensitive << A << B;

        // Define OR gate behavior
        SC_METHOD(do_or);
        sensitive << and_result;
    }

    // AND gate behavior
    void do_and()
    {
        and_result.write(A.read() && B.read());
        C.write(and_result.read()); // Output of the AND gate feeds into the OR gate
    }

    // OR gate behavior
    void do_or()
    {
        or_result.write(A.read() || B.read());
        F.write(or_result.read()); // Output of the OR gate feeds into the AND gate
    }
};

#endif
